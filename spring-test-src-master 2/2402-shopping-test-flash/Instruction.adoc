== ハンズオン

=== 概要

フラッシュスコープを使用したアプリケーションをテストします。

=== 手順

. OrderControllerのorderメソッドで、フラッシュスコープを使用していることを確認してください。次に、OrderControllerTestクラスのtest_orderメソッドを確認します。MockMvcのperformメソッドの呼び出しを行っていますが、フラッシュスコープに対するアサーションを行っていません。

. test_orderメソッドで、以下をアサーションしてください。
.. フラッシュスコープの中にOrderオブジェクトが存在すること
.. リダイレクトURLが期待する値になっていること

. OrderControllerIntegrationTestクラスのtest_orderメソッドを確認してください。MockMvcのperformメソッドの呼び出しを行っていますがアサーションを行っていません。以下をアサーションしてください。
.. リダイレクトURLが期待する値になっていること
.. 発行された注文IDを使ってデータベースの注文データを検索し、取得した注文データの顧客名や住所が期待通りになっている

=== オプション

. 注文された商品の在庫数が期待通りに減っていることを確認しましょう。どの商品をいくつ注文したかは、OrderControllerクラスのdummyCartInputメソッドを参照してください。

